name: FireGem - Remote Batch Relay
on:
  push:
    paths:
      - 'kb_packets/*.kb'

jobs:
  trigger-remote-batch:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ”¥ FVS_IO:SIGNAL_REMOTE_BATCH
        env:
          MERC_G_PAT: ${{ secrets.MERC_G_PAT }}
        run: |
          echo "BGIN FIRE: Connecting to Robo-Knight-Demos Batch System..."
          
          # This command tells GitHub to start the 'batch' job in the other repo
          # Replace 'main.yml' with the actual filename of the batch in Robo-Knight
          curl -X POST \
            -H "Authorization: Bearer $MERC_G_PAT" \
            -H "Accept: application/vnd.github+json" \
            https://api.github.com \
            -d '{"ref":"main"}'
          
          echo "SIGNAL SENT: Remote Batch Execution Initialized."
