name: Mercwar RAM Datalake Diagnostic
on: [push]

jobs:
  echo-properties:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v4

      - name: Property Echo Batch
        # This maps your MERC_G_PAT to the runner
        env:
          MERC_G_PAT: ${{ secrets.MERC_G_PAT }}
        run: |
          echo "--- AVIS DIRECTORY CHECK ---"
          ls -R dl/
          
          echo "--- TOKEN PROPERTY CHECK ---"
          if [ -z "$MERC_G_PAT" ]; then
            echo "Error: MERC_G_PAT property is not set in Secrets."
            exit 1
          else
            echo "Property: Status -> [LOADED]"
            echo "Property: Length -> ${#MERC_G_PAT}"
          fi
